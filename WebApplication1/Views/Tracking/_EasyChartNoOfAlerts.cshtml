@model WebApplication1.Models.TrackingModel.Session
@{
    //var count = Model.states.Count;
    <script>
        $.get('@Url.Action("GetNoOfStatesInSession/" + Model.Id)', function (result) {
            if (result != null) {
                $('#totalNo').easyPieChart({
                    animate: 3000
                });

                var temp = document.getElementById('totalNoLabel');
                temp.innerHTML = result;

                $('#totalNo').data('easyPieChart').update(result);
                //update instance after 5 sec
                setTimeout(function () {
                   updateChartCount();
                }, 10000);
            }
        });

        function updateChartCount() {
            $.get('@Url.Action("GetNoOfStatesInSession/" + Model.Id)', function (result) {
                if (result != null) {
                    var temp = document.getElementById('totalNoLabel');
                    temp.innerHTML = result;

                    $('#totalNo').data('easyPieChart').update(result);
                    //update instance after 5 sec
                    setTimeout(function () {
                        updateChartCount();
                    }, 10000);
                }
            });

        }
    </script>
}